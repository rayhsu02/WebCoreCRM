!function(){"use strict";function a(a,b,c){a.otherwise("/CustomerList"),b.state("CustomerList",{url:"/CustomerList",templateUrl:"/templates/CustomerList.html",controller:"customerController"}).state("CustomerDetail",{url:"/CustomerDetail",templateUrl:"/templates/CustomerDetail.html",params:{selectedCustomer:null},controller:"customerDetailController"}).state("route2",{url:"/route2",templateUrl:"route2.html"}).state("route2.list",{url:"/list",templateUrl:"route2.list.html",controller:function(a){a.things=["A","Set","Of","Things"]}})}angular.module("app",["ui.router"]).config(a),a.$inject=["$urlRouterProvider","$stateProvider","$locationProvider"]}(),function(){"use strict";function a(a,b,c){function d(){console.log("call init"),e(),a.reset()}function e(){b.getAllCustomers().then(function(b){console.log(b),console.log("res.data"),b&&(a.allCustomers=b,console.log("$scope.allCustomers"),console.log(a.allCustomers))})}function f(a){console.log("addCustomer"),console.log(a),void 0!=a.customerId?b.updateCustomer(a).then(function(a){console.log(a),e(),i()},function(){alert(res)}):b.addNewCustomer(a).then(function(a){console.log(a),e(),i()},function(){alert(res)})}function g(a){b.deleteCustomer(a).then(function(a){console.log(a),e(),i()},function(){alert(res)})}function h(a){console.log("goToState"),c.go("CustomerDetail",{selectedCustomer:a})}function i(){a.reset(),$("#myModal").modal("hide")}a.title="customerController",a.allCustomers=[],a.getAllCustomer=e,a.addCustomer=f,a.deleteCustomer=g,a.goToState=h,a.IndustryTypes=[{Name:"Health Care",Id:"1"}],a.init=d,a.closeModal=i,a.newCompany={companyName:"",websiteUrl:"",industryTypeId:"",clientDesignation:!0},a.master={},a.reset=function(){console.log("reset")},a.showModal=!1,a.buttonClicked="",a.toggleModal=function(b){console.log(b),"new"==b?a.newCompany={companyName:"",websiteUrl:"",industryTypeId:"",clientDesignation:!0}:(b.industryTypeId=b.industryTypeId.toString(),a.newCompany=angular.copy(b)),a.showModal=!a.showModal},a.init()}angular.module("app").controller("customerController",a),a.$inject=["$scope","crmService","$state"]}(),function(){"use strict";function a(a,b,c){function d(a){console.log("updateCustomer"),console.log(a),void 0!=a.customerId&&b.updateCustomer(a).then(function(a){console.log(a),c.go("CustomerList")},function(){alert(res)})}this.title="customerDetailController",console.log("$state.params.selectedCustomer"),console.log(c.params.selectedCustomer),a.newCompany=angular.copy(c.params.selectedCustomer),a.updateCustomer=d,a.IndustryTypes=[{Name:"Health Care",Id:"1"}]}angular.module("app").controller("customerDetailController",a),a.$inject=["$scope","crmService","$state"]}(),function(){"use strict";function a(){function a(a,b,c){console.log("link scope"),console.log(a),a.$watch(c.visible,function(a){1==a?$(b).modal("show"):$(b).modal("hide")}),$(b).on("shown.bs.modal",function(){a.$apply(function(){a.$parent[c.visible]=!0})}),$(b).on("hidden.bs.modal",function(){a.$apply(function(){a.$parent[c.visible]=!1})})}return{templateUrl:"/templates/customerModal.html",restrict:"E",transclude:!0,replace:!0,scope:!0,link:a}}angular.module("app").directive("mymodal",a)}(),function(){"use strict";function a(a){function b(){return a.get("/api/Customers/").then(f,g("Error getting all customers"))}function c(b){return a.post("/api/Customers/",b)}function d(b){return a.put("/api/Customers/"+b.customerId,b)}function e(b){return a.delete("/api/Customers/"+b.customerId)}function f(a){return a.data}function g(a){return function(){return{success:!1,message:a}}}return{getAllCustomers:b,addNewCustomer:c,updateCustomer:d,deleteCustomer:e}}angular.module("app").factory("crmService",a),a.$inject=["$http"]}();